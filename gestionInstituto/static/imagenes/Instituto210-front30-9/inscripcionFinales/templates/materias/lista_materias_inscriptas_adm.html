<!-- lista_materias_user.html -->
{% extends 'base/base.html' %}

{% block title %}Lista de Materias{% endblock %}

{% block content %}
<div class="card-body" style="margin-top: 50px; margin-bottom: 50px;">
        <div class="card">
        <div class="card-headers rounded-top">
            <h4 class="card-title">Lista de Materias</h4>
        </div>
        <div class="card-body">
            {% if materias %}
            <table class="table">
                <thead>
                    <tr>
                        <th class="h5">Nombre</th>
                        <th class="h5">Estudiante</th>
                        <th class="h5">Modalidad</th>
                        <th class="h5">Nota Cursada</th>
                        <th class="h5">Nota Final</th>
                        <th class="h5">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                        {% for materia in materias %}
                            <tr>
                                <td class="h6">{{materia.materia}}</td>
                                <td class="h6">{{materia.usuario}}</td>
                                <td id='modalidad{{materia.id}}' class="h6">{{materia.get_modalidad_display}}</td>
                                <td class="h6">{{materia.nota_cursada}}</td>
                                <td class="h6">{{materia.nota_final}}</td>
                                <td>
                                    <a name="" id="" class="btn btn-primary" href="/cargar_nota_cursada/{{materia.id}}" role="button">Cargar nota</a>
                                    <a name="" id="" class="btn btn-danger" href="/eliminar_inscripcion_materia/{{materia.id}}" role="button">Dar de baja</a>
                                </td>
                            </tr>
                        {% endfor %}
                </tbody>
            </table>
            {% else %}
            <div class="alert alert-danger" style="font-size: 20px;"> No hay materias disponibles.</div>
        {% endif %}
        </div>
    </div>
</div>
<script>
{%for materia in materias%}
    modalidad=document.getElementById("modalidad{{materia.id}}")
        if (modalidad.innerHTML=='1')
        {
            modalidad.innerHTML='Regular'
        }
        else if(modalidad.innerHTML=='2')
        {
            modalidad.innerHTML='Libre'
        }
        else if(modalidad.innerHTML=='3')
        {
            modalidad.innerHTML='Condicional'
        }
{%endfor%}
</script>
{% endblock %}